(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39777c2e"],{"687e":function(e,t,i){},b453:function(e,t,i){"use strict";i("687e")},da97:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{attrs:{align:"right"}},[i("el-button",{staticClass:"add-button",attrs:{type:"primary"},on:{click:function(t){return e.showDialogNew(1)}}},[e._v("新增定时任务")])],1),i("br"),i("div",{staticClass:"table"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-style":{height:"60px"},border:!0}},[i("el-table-column",{attrs:{prop:"uid",label:"角色uid","min-width":"30%","header-align":"center",align:"center"}}),i("el-table-column",{attrs:{prop:"cronExpression",label:"运行时间","min-width":"30%","header-align":"center",align:"center"}}),i("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"90%","header-align":"center",align:"center"}}),i("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"30%","header-align":"center",align:"center"}}),i("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"20%","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(i){return e.updateAccount(t.row.id,t.row.uid,t.row.remark,t.row.cronExpression,t.row.status)}},model:{value:t.row.status,callback:function(i){e.$set(t.row,"status",i)},expression:"scope.row.status"}})]}}])}),i("el-table-column",{attrs:{prop:"operation",label:"操作","min-width":"40%","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"medium"},on:{click:function(i){return e.showDialog(t.row)}}},[e._v("编辑")]),i("el-dialog",{staticClass:"dialog",attrs:{title:"新增/编辑",visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{attrs:{model:e.form}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===e.type,expression:"type === 1"}],attrs:{label:"id","label-width":e.formLabelWidth}},[i("el-input",{staticStyle:{width:"90%"},attrs:{autocomplete:"off",disabled:!0},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),i("el-form-item",{attrs:{label:"角色uid","label-width":e.formLabelWidth}},[i("el-input",{staticStyle:{width:"90%"},attrs:{disabled:0!=e.type},model:{value:e.form.uid,callback:function(t){e.$set(e.form,"uid",t)},expression:"form.uid"}})],1),i("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[i("el-input",{staticStyle:{width:"90%"},attrs:{autocomplete:"off"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),i("el-form-item",{attrs:{label:"运行时间(corn)","label-width":e.formLabelWidth}},[i("el-input",{staticStyle:{width:"90%"},attrs:{autocomplete:"off"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(i){return e.updateAccount(e.form.id,e.form.uid,e.form.remark,e.form.cronExpression,t.row.status)}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(i){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)])},o=[],s=(i("2ef0"),{data:function(){return{func:"",loading:!1,tableData:[],dialogFormVisible:!1,form:{uid:"",account_id:"",remark:"",cronExpression:"",createTime:""},type:0,formLabelWidth:"110px"}},mounted:function(){},created:function(){this.select()},methods:{select:function(){var e=this,t="/genShin/schedule";this.loading=!0,this.axios.get(t).then((function(t){var i=[];i=t.data.data;for(var a=0;a<i.length;a++)1===i[a].status?i[a].status=!0:i[a].status=!1;e.tableData=i,e.loading=!1})).catch((function(t){e.loading=!1,alert(t)}))},addSchedule:function(e,t,i,a){var o=this,s="/genShin/user_info",r={};r.uid=e,r.accountId=t,r.cookieToken=i,r.deviceId=a,this.axios.post(s,r).then((function(e){if(o.loading=!1,-1!=e.data.retcode){o.$createElement;o.$message({message:"新增成功 ( ੭ ˙ᗜ˙ )੭",type:"success"}),o.dialogFormVisible=!1,o.select(1)}else console.log(e.data.message),o.$message.error(e.data.message)})).catch((function(e){o.loading=!1}))},showDialogNew:function(){this.type=0,this.dialogFormVisible=!0,this.form.id="",this.form.uid="",this.form.remark="",this.form.cronExpression="",this.func="new"},showDialog:function(e){this.type=1,this.dialogFormVisible=!0,this.form.id=e.id,this.form.uid=e.uid,this.form.remark=e.remark,this.form.cronExpression=e.cronExpression,this.func="update"},updateAccount:function(e,t,i,a,o){var s=this,r={};if(r.uid=t,r.remark=i,r.cronExpression=a,console.log(this.func),"new"===this.func){var n="/genShin/schedule";r.status=0,this.axios.post(n,r).then((function(e){s.loading=!1,-1!=e.data.retcode?(s.$message({message:"新增成功 ( ੭ ˙ᗜ˙ )੭",type:"success"}),s.dialogFormVisible=!1,s.select(1)):s.$message.error(e.data.message),s.dialogFormVisible=!1,s.select(1)})).catch((function(e){s.loading=!1,alert(e)}))}else{n="/genShin/schedule/update";r.id=e,r.status=!0===o?1:0,this.axios.put(n,r).then((function(e){s.loading=!1,-1!=e.data.retcode?(s.$message({message:"修改成功 ( ੭ ˙ᗜ˙ )੭",type:"success"}),s.dialogFormVisible=!1,s.select(1)):s.$message.error(e.data.message),s.dialogFormVisible=!1,s.select(1)})).catch((function(e){s.loading=!1,alert(e)}))}},handleDelete:function(e){var t=this,i="/genShin/schedule/delete",a=e.id;this.axios.delete(i,a).then((function(e){t.loading=!1,-1!=e.data.retcode?(t.$alert("删除成功","删除",{confirmButtonText:"确定",callback:function(e){t.$router.go(0)}}),t.dialogFormVisible=!1,t.select(1)):t.$message.error(e.data.message)})).catch((function(e){t.loading=!1,alert(e)}))}}}),r=s,n=(i("b453"),i("2877")),l=Object(n["a"])(r,a,o,!1,null,null,null);t["default"]=l.exports}}]);